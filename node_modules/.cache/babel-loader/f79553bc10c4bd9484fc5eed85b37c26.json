{"ast":null,"code":"import React,{useContext}from'react';import Context from'../context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SnackFreeturProducts=function SnackFreeturProducts(){var SnackFreeturProducts=require('../json/products.json');var productArr=Object.values(SnackFreeturProducts.snacksfreetur);var _useContext=useContext(Context),cart=_useContext.cart,setCart=_useContext.setCart;var cartArr={};if(cart.length>0){cartArr=JSON.parse(cart);}if(!cartArr.snacksfreetur)cartArr.snacksfreetur=[];var toCart=function toCart(event){var li=event.target.closest('li');if(cartArr.snacksfreetur.indexOf(li.dataset.id)===-1){cartArr.snacksfreetur.push(li.dataset.id);var cartStr=JSON.stringify(cartArr);localStorage.setItem('cart',cartStr);setCart(cartStr);}};return/*#__PURE__*/_jsx(\"ul\",{className:\"snacks-goods-freetur\",children:productArr.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"product\",\"data-id\":index,children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-img\",children:/*#__PURE__*/_jsx(\"img\",{src:item.img})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-description\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.name}),/*#__PURE__*/_jsx(\"div\",{className:\"size-weight\",children:item.size}),/*#__PURE__*/_jsx(\"div\",{className:\"description\",children:item.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cost\",children:item.cost}),cartArr.snacksfreetur.indexOf(item.id)===-1?/*#__PURE__*/_jsx(\"button\",{className:\"add-btn\",onClick:toCart,children:\"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"}):/*#__PURE__*/_jsx(\"button\",{className:\"add-btn at-cart\",onClick:toCart,children:\"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0435\"})]})]},index);})});};export default SnackFreeturProducts;","map":{"version":3,"sources":["/Users/alex.vysocki/Desktop/Project/pizza-app/src/ProductsComponents/SnackFreeturProducts.js"],"names":["React","useContext","Context","SnackFreeturProducts","require","productArr","Object","values","snacksfreetur","cart","setCart","cartArr","length","JSON","parse","toCart","event","li","target","closest","indexOf","dataset","id","push","cartStr","stringify","localStorage","setItem","map","item","index","img","name","size","description","cost"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,KAAgC,OAAhC,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,C,wFAEA,GAAMC,CAAAA,oBAAoB,CAAG,+BAAY,CAErC,GAAMA,CAAAA,oBAAoB,CAAGC,OAAO,CAAC,uBAAD,CAApC,CAEA,GAAMC,CAAAA,UAAU,CAAGC,MAAM,CAACC,MAAP,CAAcJ,oBAAoB,CAACK,aAAnC,CAAnB,CAJqC,gBAMfP,UAAU,CAACC,OAAD,CANK,CAMhCO,IANgC,aAMhCA,IANgC,CAM1BC,OAN0B,aAM1BA,OAN0B,CAQrC,GAAIC,CAAAA,OAAO,CAAG,EAAd,CAEA,GAAIF,IAAI,CAACG,MAAL,CAAc,CAAlB,CAAqB,CACjBD,OAAO,CAAGE,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAV,CACH,CAED,GAAI,CAACE,OAAO,CAACH,aAAb,CAA4BG,OAAO,CAACH,aAAR,CAAwB,EAAxB,CAE5B,GAAMO,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAUC,KAAV,CAAiB,CAC5B,GAAMC,CAAAA,EAAE,CAAGD,KAAK,CAACE,MAAN,CAAaC,OAAb,CAAqB,IAArB,CAAX,CAEA,GAAIR,OAAO,CAACH,aAAR,CAAsBY,OAAtB,CAA8BH,EAAE,CAACI,OAAH,CAAWC,EAAzC,IAAiD,CAAC,CAAtD,CAAyD,CACrDX,OAAO,CAACH,aAAR,CAAsBe,IAAtB,CAA2BN,EAAE,CAACI,OAAH,CAAWC,EAAtC,EAEA,GAAIE,CAAAA,OAAO,CAAGX,IAAI,CAACY,SAAL,CAAed,OAAf,CAAd,CACAe,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BH,OAA7B,EAEAd,OAAO,CAACc,OAAD,CAAP,CACH,CACJ,CAXD,CAaA,mBACI,WAAI,SAAS,CAAC,sBAAd,UACInB,UAAU,CAACuB,GAAX,CAAe,SAACC,IAAD,CAAOC,KAAP,qBACX,YAAI,SAAS,CAAC,SAAd,CAAoC,UAASA,KAA7C,wBACI,YAAK,SAAS,CAAC,aAAf,uBACI,YAAK,GAAG,CAAED,IAAI,CAACE,GAAf,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,qBAAf,wBACI,oBAAKF,IAAI,CAACG,IAAV,EADJ,cAEI,YAAK,SAAS,CAAC,aAAf,UAA8BH,IAAI,CAACI,IAAnC,EAFJ,cAGI,YAAK,SAAS,CAAC,aAAf,UAA8BJ,IAAI,CAACK,WAAnC,EAHJ,GAJJ,cASI,aAAK,SAAS,CAAC,eAAf,wBACI,YAAK,SAAS,CAAC,MAAf,UAAuBL,IAAI,CAACM,IAA5B,EADJ,CAEKxB,OAAO,CAACH,aAAR,CAAsBY,OAAtB,CAA8BS,IAAI,CAACP,EAAnC,IAA2C,CAAC,CAA5C,cAAgD,eAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAEP,MAArC,+DAAhD,cAAkH,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAEA,MAA7C,+DAFvH,GATJ,GAA6Be,KAA7B,CADW,EAAf,CADJ,EADJ,CAoBH,CAjDD,CAmDA,cAAe3B,CAAAA,oBAAf","sourcesContent":["import React, {useContext} from 'react';\nimport Context from '../context';\n\nconst SnackFreeturProducts = function () {\n\n    const SnackFreeturProducts = require('../json/products.json');\n\n    const productArr = Object.values(SnackFreeturProducts.snacksfreetur);\n\n    let {cart, setCart} = useContext(Context);\n\n    let cartArr = {};\n\n    if (cart.length > 0) {\n        cartArr = JSON.parse(cart);\n    }\n\n    if (!cartArr.snacksfreetur) cartArr.snacksfreetur = [];\n\n    const toCart = function (event) {\n        const li = event.target.closest('li');\n\n        if (cartArr.snacksfreetur.indexOf(li.dataset.id) === -1) {\n            cartArr.snacksfreetur.push(li.dataset.id);\n\n            let cartStr = JSON.stringify(cartArr);\n            localStorage.setItem('cart', cartStr);\n\n            setCart(cartStr);\n        }\n    };\n \n    return (\n        <ul className=\"snacks-goods-freetur\">{\n            productArr.map((item, index) =>\n                <li className=\"product\" key={index} data-id={index}>\n                    <div className=\"product-img\">\n                        <img src={item.img}></img>\n                    </div>\n                    <div className=\"product-description\">\n                        <h3>{item.name}</h3>\n                        <div className=\"size-weight\">{item.size}</div>\n                        <div className=\"description\">{item.description}</div>\n                    </div>\n                    <div className=\"add-container\">\n                        <div className=\"cost\">{item.cost}</div>\n                        {cartArr.snacksfreetur.indexOf(item.id) === -1 ? <button className=\"add-btn\" onClick={toCart}>В корзину</button> : <button className=\"add-btn at-cart\" onClick={toCart}>В корзине</button>}\n                    </div>\n                </li>\n            )    \n        }</ul>\n    );\n};\n\nexport default SnackFreeturProducts;"]},"metadata":{},"sourceType":"module"}